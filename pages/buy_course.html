<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>course detail</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <style type="text/css">
        html,
        body {
            height: 100%;
            font-family: helvetica;
            background-color: #F4F7F2;
        }
        .nav {
            width: 100%;
            height: 43px;
            background-color: #FFFFFF;
            border-bottom: 1px solid #CCCCCC;
        }

        .nav .arrow {
            float: left;
            width: 15%;
            height: 43px;
            background-image: url(../image/head/arrow.png);
            background-size: 11px 20px;
            background-repeat: no-repeat;
            background-position: center center;
        }

        .nav .share {
            width: 15%;
            height: 43px;
            background-image: url(../image/head/share.png);
            background-size: 19px 3px;
            background-repeat: no-repeat;
            background-position: center center;
            float: right;
        }
        .nav .titlecontent{
            width: 70%;
            font-size: 20px;
            margin: 0 auto;
            float:left;
            text-align: center;
            margin-top: 11px;
        }
        .block{
          background-color: #FFFFFF;
        }
        .block .address{
          float: left;
          background-color: #FFFFFF;
          width: 85%;
        }
        .name {
          line-height: 22px;
          font-size: 16px;
          color: #444;
          padding-top: 13px;
          padding-bottom: 13px;
          padding-left: 20px;
          padding-right: 10px;
        }
        .location {
          height: 22px;
          line-height: 19px;
          font-size: 16px;
          color: #888;
          box-sizing: border-box;
          padding-left: 20px;
          padding-right: 10px;
        }
        .block .selectaddress{
          float: right;
          width: 15%;
          height: 70px;
          background-image: url(../image/head/arrow.png);
          background-size: 11px 20px;
          background-repeat: no-repeat;
          background-position: center center;
          background-color: #FFFFFF;
        }
        .profile{
          background-color: #FFFFFF;
          padding-top: 20px;
          padding-bottom: 10px;
          margin-top: 20px;
        }
        .profilecontent{
          background-color: #FFFFFF;
          width: 85%;
        }
        .profileprice{
          background-color: #FFFFFF;
          width: 15%;
        }
        .buybutton{
          height: 50px;
          border-top: 1px solid #CCCCCC;
          bottom: 0;
          position: fixed;
          width: 100%;
        }
        .buybuttonleft{
          height: 50px;
          float: left;
          width: 72%;
        }
        .buybuttonright{
          height: 50px;
          float: right;
          width: 28%;
          background-color: #E0511D;
        }
        .buy{
          font-size: 18px;
          color: #FFF;
          text-align: center;
          margin-top: 16px;
        }
        .text3 {
           display: inline-flex;
           color: #E0511D;
           font-size: 18px;
           position: relative;
           padding-left: 15px;
           margin-top: 16px
         }
    </style>
</head>

<body>
  <div style="width:100%">
      <div class="nav" id="nav">
          <div class="arrow" tapmode onclick="api.closeWin();"></div>
          <div class="titlecontent">确认订单</div>
          <div class="share" tapmode onclick="actionMenu()"></div>
      </div>
      <div class="block">
        <div class="address">
          <div class="name">姓名 13883136551</div>
          <div class="location">重庆市 重庆市 南岸区 海棠路33号</div>
        </div>
        <div class="selectaddress"> </div>
      </div>

      <div class="profile">
        <div class="profilecontent">【最后一期】国考笔试系统班图书大礼包：2019年国考14期</div>
        <div class="profileprice">￥888元</div>
      </div>

      <div class="buybutton" id="buybutton">
        <div class="buybuttonleft">
          <div class="text3">合计：￥888元</div>
        </div>
        <div class="buybuttonright" onclick="buyCourse()"><div class="buy">确定支付</div></div>
      </div>
  </div>
</body>

<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/doT.min.js"></script>
<script type="text/javascript" src="../script/APICloud-rest.js"></script>
<script type="text/javascript" src="../script/SHA1.js"></script>
<script type="text/javascript">
    var content,dot,max,min,current,navHeight,videoPlayer;;
    apiready = function() {
      videoPlayer = api.require('videoPlayer');
      initEventListenner();
      // fnInit();
      // fnGetData(current,max);
      // openOne(1);
    };

    function openTab(index){
      if(index == 1){
        $api.addCls($api.byId('tabtitle1'),'active');
        $api.removeCls($api.byId('tabtitle2'),'active')

        $api.addCls($api.byId('courselist'),'deactive');
        $api.removeCls($api.byId('courseintro'),'deactive')
      }else if(index == 2){
        $api.removeCls($api.byId('tabtitle1'),'active');
        $api.addCls($api.byId('tabtitle2'),'active')

        $api.addCls($api.byId('courseintro'),'deactive');
        $api.removeCls($api.byId('courselist'),'deactive')
      }

    }
    function initEventListenner(){
      api.addEventListener({
          name:'swipeleft'
      }, function(ret, err){
         fnSwipeLeft();
      });

      api.addEventListener({
          name:'swiperight'
      }, function(ret, err){
         fnSwipeRight();
      });
    }

    function openContent(current){
      api.openFrame({
          name: 'testpaper_frame',
          url: './testpaper_frame.html',
          vScrollBarEnabled: false,
          bounces: false,
          reload: true,
          rect: {
              x: 0,
              y: navHeight,
              w: 'auto',
              h: api.winHeight - navHeight
          },
          pageParam: {
              current: current,
              navHeight: navHeight
          }
      });
    }

    function fnSwipeRight(){
      if (current == 1 ) {
        return;
      }
      current = current-1;
      openContent(current);
    }
    function fnSwipeLeft(){
      if (current == max ) {
        return;
      }
      current = current + 1;
      openContent(current);
    }

    function fnInit() {
        content = $api.byId('content');
        var template = $api.byId('template');
        dot = doT.template(template.innerHTML);
    }

    function fnGetData(current, max) {
        var client = new Resource("A6918573369588", "20C93719-0DE5-8C9B-2F05-36D9BB835C02");
        var headList = client.Factory("headlist");

        headList.query({
           "filter": {
            "include": ["content"],
            "where": {"type":2},
            "skip": 0,
            "limit": 20
        }
    }, function(ret, err) {
        ret = {"subject":"1.中国传统菜肴对于烹调方法极为讲究，而且长期以来，由于物产和风俗的差异，各地的饮食习惯和品味爱好______，______的烹调技术经过历代人民的创造，形成了丰富多彩的地方菜系。",
        "option1":1,"option2":12,"option3":100,"option4":1,"id":1}
        content.innerHTML= dot(ret);
    });
    }

    function buyCourse(){
      api.openWin({
          name: 'buy_course',
          url: './buy_course.html',
          vScrollBarEnabled: false,
          bounces: false,
          rect: {
              x: 0,
              y: 0,
              w: 'auto',
              h: api.winHeight
          },
          pageParam: {
              current: 1,
              navHeight: navHeight
          }
      });
    }

</script>

</html>
